<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>华南师范大学情绪管理系统</title>
  <link rel="stylesheet" href="主页.css">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> -->
  <!-- <link rel="stylesheet" href="./src/abc80.css"> -->
  <script src="./src/chart.js"></script>
  <link rel="icon" href="./src/1.jpg">
</head>

<body>
  <div id="all" style="background:linear-gradient(135deg, #7b95ff, #ff8787, #4dff74);">


    <div id="left">

      <div id="leftupimg">
      </div>
      <div id="leftupsay">
        情绪管理系统
      </div>
      <!--leftup-->

      <div id="leftmain">

        <ui id="leftmainui">
          <li style="--i:0" class="leftmainli" onclick="leftmainlichange(0)">
            <div class="leftmainlipic" id="leftmainlipic1"></div>
            <p class="leftmainlisay">总绪</p>
          </li>
          <li style="--i:1" class="leftmainli" onclick="leftmainlichange(1)">
            <div class="leftmainlipic" id="leftmainlipic2"></div>
            <p class="leftmainlisay">情绪识别</p>
          </li>
          <li style="--i:2" class="leftmainli" onclick="leftmainlichange(2)">
            <div class="leftmainlipic" id="leftmainlipic3"></div>
            <p class="leftmainlisay">情绪调频</p>
          </li>
          <li style="--i:3" class="leftmainli" onclick="leftmainlichange(3)">
            <div class="leftmainlipic" id="leftmainlipic4"></div>
            <p class="leftmainlisay">音乐疗愈</p>
          </li>
          <li style="--i:4" class="leftmainli" onclick="leftmainlichange(4)">
            <div class="leftmainlipic" id="leftmainlipic5"></div>
            <p class="leftmainlisay">情绪日志</p>
          </li>
        </ui>

      </div>
      <!-- leftmain -->

    </div>
    <!-- left -->


    <div id="right">

      <div id="rightfirst" class="right">

        <div id="rightfirsthead">

          <div id="recently">近期活动

            <select id="selectday">
              <option value="" selected>24小时</option>
              <option value="">三天</option>
              <option value="">一周</option>
              <option value="">一个月</option>
              <option value="">半年</option>
            </select>
          </div>
          <div id="recentlyact">
            <div class="recentlyactivity">
              <img src="./src/10.png" alt="" class="actimg">
              完成<p id="activitysay">音乐疗愈</p>。您最常聆听的音乐是<p id="activitysay">《重返御神体》</p>,昨日已进行<p id="activitysay">12</p>次聆听
            </div>
            <div class="recentlyactivity">
              <img src="./src/10.png" alt="" class="actimg">
              完成<p id="activitysay">情绪识别</p>，又向数据库提交了您的情绪数据。上次所识别的是<p id="activitysay">文本</p>数据，显示您的情绪是<p
                id="activitysay1">焦虑</p>。
            </div>
            <div class="recentlyactivity">
              <img src="./src/11.png" alt="" class="actimg">
              正在进行<p id="activitysay">情绪日志</p>，您尚未完成今日情绪记录。
            </div>
          </div>
          <div id="user">
            <div id="userup">
              <div id="userupfirst">root用户</div>
              <div id="userupsecond" onclick="changebell()"></div>
            </div>

            <div id="userdown">
              <div class="search-box">
                <input type="text" placeholder="搜索功能…" class="search-input">
                <i class="fas fa-search search-icon"></i>
              </div>
            </div>
          </div>

        </div>

        <div id="rightfirstmain">
          <div id="rightfirstmainleft">
            <canvas id="rightfirstmainleftchart"></canvas>
          </div>

          <div id="rightfirstmainright">
            <ui id="rightfirstmainrightui">
              <li class="rightfirstmainrightli">
                <p class="firstmainsay">本周情绪激动的次数为</p>
                <p class="firstmainsayfocus">5</p>
                <p class="firstmainsaymath" id="saymath1">较上周减少23%</p>
              </li>
              <li class="rightfirstmainrightli">
                <p class="firstmainsay">本周进行音乐疗愈的次数为</p>
                <p class="firstmainsayfocus">43</p>
                <p class="firstmainsaymath" id="saymath2">较上周增加6%</p>
              </li>
              <li class="rightfirstmainrightli">
                <p class="firstmainsay">本周进行的情绪记录篇数为</p>
                <p class="firstmainsayfocus">7</p>
                <p class="firstmainsaymath" id="saymath3">较上周增加0%</p>
              </li>
            </ui>
          </div>

        </div>

        <div id="rightfirstchart">
          <div id="rightfirstchartfirst">
            <h2>本周情绪趋势</h2>
            <div id="chartWrapper"><canvas id="chart"></canvas></div>
            <div class="legend">
              <div class="legend-item"><span class="legend-color" style="background:#ff6b6b"></span>愉悦</div>
              <div class="legend-item"><span class="legend-color" style="background:#4ecdc4"></span>平静</div>
              <div class="legend-item"><span class="legend-color" style="background:#ffa726"></span>焦虑</div>
            </div>
          </div>

          <div id="rightfirstchartsecond">
            <canvas id="emotionPie"></canvas>
          </div>

        </div>

      </div>
      <!-- first -->
      <div id="rightsecond" class="right">

        <div id="rightsecondhead">
          <div id="secondheadleft">
            <div id="secondheadleftfirst">
              <h1>情绪识别</h1>
              <p>上传文本、图片、音频数据以予大模型分析</p>
            </div>
            <canvas id="emotionhistory"></canvas>
          </div>


          <div id="user1">
            <div id="userup">
              <div id="userupfirst">root用户</div>
              <div id="userupsecond" onclick="changebell()"></div>
            </div>

            <div id="userdown">
              <div class="search-box">
                <input type="text" placeholder="搜索记录…" class="search-input">
                <i class="fas fa-search search-icon"></i>
              </div>
            </div>
          </div>
        </div>

        <div id="rightsecondmain">
          <div id="rightsecondmainhead">
            <div class="secondmainheadli" onclick="changesecondmain(0)" id="secondmainheadlifirst">文本识别</div>
            <div class="secondmainheadli" onclick="changesecondmain(1)">图片识别</div>
            <div class="secondmainheadli" onclick="changesecondmain(2)">音频识别</div>
            <div class="secondmainheadli" onclick="changesecondmain(3)">脑电识别</div>
          </div>

          <div id="secondmainmain">

            <div id="secondmainleft">

              <div class="secondmainleftsay">
                <p class="secondmainleftsaysay" id="secondmainleftsay1">透过对字里行间的行文的分析串联起一个个无声的文字</p>
                <p class="secondmainleftsaysay" id="secondmainleftsay2">织成细腻而婉转的笔者的弦外之音</p>
                <p class="secondmainleftsaysay" id="secondmainleftsay3">从而剖析出，每一句所蕴含的情绪的意义</p>
              </div>

              <div id="test">
                <div id="testup">
                  <input type="file" id="testin">
                </div>
              </div>

              <div id="secondmainbottom">
                <p id="secondmainbottomsay">请确认上传的是文本数据！</p>
                <input type="button" value="提交" id="secondmainbutton">
              </div>

            </div>

            <div id="secondmainright">

              <div id="secondmainrighttitle">
                结果分析
              </div>

              <div class="secondmainprogress"></div>
              <div class="secondmainprogress"></div>
              <div class="secondmainprogress"></div>


            </div>

          </div>

        </div>

        <div id="secondresult">


        </div>

      </div>

      <!-- second -->

      <div id="rightthird" class="right" style="width: 100%; height: 100%; position: relative; overflow: hidden;">

        <!-- 总目录页 -->
        <div id="thirdmainmenu"
          style="display: flex; flex-wrap: wrap; width: 100%; height: 100%; position: absolute; top: 0; left: 0;">

          <!-- 四个功能区域 -->
          <div id="thirdinteractive" class="thirdbox"
            style="background: linear-gradient(90deg, #3770ff, #d3ff5a, #4b2b5a)">
            <!-- 小型简化聊天框架 -->
            <div id="thirdinteractivepreview"
              style="width: 90%; height: 90%; display: flex; flex-direction: column; border: 1px solid #ccc; background-color: #fdfdfd; padding: 2%; box-sizing: border-box;">

              <!-- 主题栏 -->
              <div style="width: 100%; font-weight: bold; text-align: center; margin-bottom: 5%;">AI排忧解愁</div>

              <!-- 聊天区域（缩略不滚动） -->
              <div style="flex: 1; overflow: hidden; font-size: 0.8vw; display: flex; flex-direction: column; gap: 2%;">
                <div style="align-self: flex-start; display: flex; align-items: center;">
                  <img src="./src/42.png" alt="你的朋友"
                    style="width: 1.5vw; height: 1.5vw; background-color: #aaa; border-radius: 50%; margin-right: 0.5vw;">

                  <div style="background-color: #e0e0e0; border-radius: 10px; padding: 0.3vw 0.6vw;">
                    你好，我是你排忧解愁的使者，需要查看思考过程请进入主题页面</div>
                </div>
                <div style="align-self: flex-end; display: flex; align-items: center;">
                  <div
                    style="background-color: #6c63ff; color: white; border-radius: 10px; padding: 0.3vw 0.6vw; margin-right: 0.5vw;">
                    你好！</div>
                  <img src="./src/12.png" alt="你"
                    style="width: 1.5vw; height: 1.5vw; background-color: #ffffff; border-radius: 50%;">
                </div>

              </div>

              <!-- 输入框区域 -->
              <div id="thirdfirsttext" style="margin-top: 5%; display: flex; justify-content: space-between; gap: 2%;">
                <input type="text" placeholder="请输入..." style="flex: 1; padding: 2%; font-size: 0.8vw;width: 80%;">
                <button id="smallsent"
                  style="padding: 2% 5%; background-color: #ffb7b7; color: rgb(84, 84, 84); font-size: 0.8vw;">发送</button>
              </div>
            </div>
          </div>


          <div id="thirdrelax" class="thirdbox" style="background :linear-gradient(135deg, #1a6c25, #2e1fb2, #c023e3);">

            <!-- 开始界面 -->
            <div id="thirdrelaxStartScreen">
              <h1 id="thirdrelaxGameTitle">Flappy Bird</h1>
              <button id="thirdrelaxStartButton" onclick="longdaygo()">开始游戏</button>
            </div>

            <!-- 游戏界面 -->
            <div id="thirdrelaxGameScreen">
              <div id="thirdrelaxBird">
                <div class="wing"></div>
              </div>
              <div id="thirdrelaxScoreDisplay">0</div>
              <div id="thirdrelaxGround"></div>
            </div>

            <!-- 结算界面 -->
            <div id="thirdrelaxEndScreen">
              <h2 id="thirdrelaxFinalScore">得分: 0</h2>
              <button id="thirdrelaxRestartButton">重新开始</button>
            </div>

          </div>


          <div id="thirdmeditation" class="thirdbox"
            style="background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c)">
            <!-- 通知弹窗 -->
            <div class="thirdsitnotification" id="thirdsitnotification"></div>

            <div class="thirdsitcontainer">
              <!-- 左侧工具箱 -->
              <div class="thirdsitleftpanel">
                <button class="thirdsitbtn" id="thirdsitwhitenoise" title="白噪音">
                  <span class="thirdsitfeatureicon">🎵</span>
                </button>
                <button class="thirdsitbtn" id="thirdsitwaterreminder" title="喝水提醒">
                  <span class="thirdsitfeatureicon">💧</span>
                </button>
                <button class="thirdsitbtn" id="thirdsitmeditationmaterial" title="冥想材料">
                  <span class="thirdsitfeatureicon">📚</span>
                </button>
                <button class="thirdsitbtn thirdsitbtnaddremove" id="thirdsitaddfive" title="增加五分钟">
                  <span class="thirdsitfeatureicon">⏫</span>
                </button>
                <button class="thirdsitbtn thirdsitbtnaddremove" id="thirdsitsubfive" title="减少五分钟">
                  <span class="thirdsitfeatureicon">⏬</span>
                </button>
              </div>

              <!-- 右侧主区域 -->
              <div class="thirdsitrightpanel">
                <!-- 上部分：功能模块区域 -->
                <div class="thirdsitmainarea" id="thirdsitmainarea">
                  <!-- 初始提示 -->
                  <div class="thirdsitfeature" style="background: rgba(80, 120, 220, 0.3);">
                    <span class="thirdsitfeatureicon">🕊️</span>欢迎使用静坐冥想助手
                  </div>
                  <div class="thirdsitfeature" style="background: rgba(90, 180, 100, 0.3);">
                    <span class="thirdsitfeatureicon">💡</span>请从左侧选择需要的功能
                  </div>
                </div>

                <!-- 下部分：倒计时和进度条 -->
                <div class="thirdsittimerarea">
                  <div class="thirdsittimerdisplay" id="thirdsittimerdisplay">05:00</div>
                  <div class="thirdsitprogresscontainer">
                    <div class="thirdsitprogressbar" id="thirdsitprogressbar"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>




          <div id="thirdsleep" class="thirdbox">
            <!-- 小窗口模式 -->
            <div class="third-container third-small-mode">
              <h1 class="third-title">睡眠功能选择</h1>
              <div class="third-bubbles-container">
                <div class="third-bubble" id="third-focus-sleep">
                  <span>专注睡眠</span>
                </div>
                <div class="third-bubble" id="third-nap">
                  <span>略微小憩</span>
                </div>
                <div class="third-bubble" id="third-amsr">
                  <span>AMSR</span>
                </div>
                <div class="third-bubble" id="third-summary">
                  <span>睡眠总结</span>
                </div>
              </div>
            </div>
          </div>

          <!-- 中心菱形遥控按钮 -->
          <div id="thirddiamond" style="
      position: absolute;
      width: 20%;
      height: 20%;
      top: 40%;
      left: 40%;
      
      background: #f0f0f0;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
      display: flex;
      flex-wrap: wrap;
      z-index: 10;
    ">
            <div onclick="thirdShowPage('thirdinteractivepage')" class="thirddiamondbtn">交互</div>
            <div onclick="longdaygo()" class="thirddiamondbtn">放松</div>
            <div onclick="thirdsitStartMeditation()" class="thirddiamondbtn" id="thirdgamebtn">静坐</div>
            <div onclick="thirdShowPage('thirdsleeppage')" class="thirddiamondbtn">睡眠</div>
          </div>

        </div>

        <!-- 四个功能全屏页面 -->
        <div id="thirdinteractivepage" class="thirdpage">
          <button class="thirdbackbtn" onclick="thirdShowPage('thirdmainmenu')">返回</button>
          <div id="thirdchatcontainer"
            style="width: 90%; height: 90%; display: flex; flex-direction: column; box-sizing: border-box;">

            <!-- 主题栏 -->
            <div style="text-align: center; font-size: 2vw; font-weight: bold; margin-bottom: 2%;">AI排忧解愁</div>

            <!-- 聊天主区域 -->
            <div id="thirdchatbody" style="
    flex: 1;
    background-color: #f5f5f5;
    padding: 1.5%;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 1.5%;
    border-radius: 1vw;
  ">
              <!-- 示例对话 -->
              <div style="align-self: flex-start; display: flex; align-items: center;">
                <img src="./src/42.png"
                  style="width: 3vw; height: 3vw; background-color: #aaa; border-radius: 50%; margin-right: 0.8vw;">

                <div style="background-color: #e0e0e0; border-radius: 10px; padding: 0.5vw 1vw;">你好，欢迎来到此地</div>
              </div>
            </div>

            <!-- 输入区 -->
            <div style="display: flex; align-items: center; margin-top: 2%; gap: 1%;">
              <input onkeydown="isenter(event)" id="thirdchatinput" type="text" placeholder="说点什么..."
                style="flex: 1; padding: 1.2%; font-size: 1vw; border-radius: 0.5vw; border: 1px solid #ccc;" />
              <button onclick="hereweare()"
                style="padding: 1% 2%; background-color: #6c63ff; color: white; border: none; border-radius: 0.5vw; font-size: 1vw; cursor: pointer;">发送</button>
              <!-- 更多功能按钮（不实现功能） -->
              <button style="font-size: 1vw;">📎</button>
              <button style="font-size: 1vw;">🎤</button>
              <button style="font-size: 1vw;">🔗</button>
            </div>
          </div>
        </div>

        <div id="thirdrelaxpage" class="thirdpage">
          <button class="thirdbackbtn" onclick="thirdShowPage('thirdmainmenu')">返回</button>
          <div>舒缓放松全屏页面内容</div>
        </div>

        <div id="thirdmeditationpage" class="thirdpage">
          <button class="thirdbackbtn" onclick="thirdShowPage('thirdmainmenu')">返回</button>
          <div>静坐全屏页面内容</div>
        </div>

        <div id="thirdsleeppage" class="thirdpage">
          <button class="thirdbackbtn" onclick="thirdShowPage('thirdmainmenu')">返回</button>

          <!-- 全屏模式 - 专注睡眠 -->
          <div class="third-fullscreen third-focus-sleep-screen" style="display: none;">
            <button class="third-back-button" onclick="thirdShowPage('thirdmainmenu')">返回</button>
            <div class="third-focus-sleep-container">
              <div class="third-timer-section">
                <div class="third-timer-display">00:00:00</div>
                <div class="third-timer-controls">
                  <button class="third-timer-button" id="third-start-timer">开始</button>
                  <button class="third-timer-button" id="third-stop-timer">结束</button>
                  <button class="third-timer-button" id="third-submit-timer">提交</button>
                </div>
              </div>
              <div class="third-progress-section">
                <div class="third-progress-container">
                  <div class="third-progress-bar" id="third-sleep-progress"></div>
                  <div class="third-progress-labels">
                    <span class="thirddream">美梦</span>
                    <span class="thirddream">睡眠较好</span>
                    <span class="thirddream">平静的睡眠</span>
                    <span class="thirddream">睡眠较差</span>
                    <span class="thirddream">失眠</span>
                  </div>
                </div>
                <div class="third-rating-display">评级: </div>
              </div>
            </div>
          </div>

          <!-- 全屏模式 - 略微小憩 -->
          <div class="third-fullscreen third-nap-screen" style="display: none;">
            <button class="third-back-button" onclick="thirdShowPage('thirdmainmenu')"> 返回</button>
            <div class="third-nap-container">
              <h2>小憩</h2>
              <div class="third-nap-timer-display">30 分钟</div>
              <div class="third-nap-slider-container">
                <div class="third-nap-slider" id="third-nap-slider">
                  <div class="third-nap-slider-handle"></div>
                </div>
              </div>
              <button class="third-nap-start-button" id="third-start-nap">开始小憩</button>
            </div>
          </div>

          <!-- 全屏模式 - AMSR -->
          <div class="third-fullscreen third-amsr-screen" style="display: none;">
            <button class="third-back-button" onclick="thirdShowPage('thirdmainmenu')">返回</button>
            <div class="third-amsr-container">
              <div class="third-amsr-cover">
                <!-- 这里放置AMSR封面图片 -->
                <img src="./src/45.avif" alt="AMSR封面" class="third-amsr-cover-image">
              </div>
              <div class="third-amsr-title">你好，世界</div>
              <div class="third-amsr-progress-container">
                <div class="third-amsr-progress-bar">
                  <div class="third-amsr-progress"></div>
                </div>
              </div>
              <div class="third-amsr-controls">
                <button class="third-amsr-button" id="third-prev-song">上一曲</button>
                <button class="third-amsr-button" id="third-play-pause">播放</button>
                <button class="third-amsr-button" id="third-next-song">下一曲</button>
              </div>
            </div>
          </div>

          <!-- 全屏模式 - 睡眠总结 -->
          <div class="third-fullscreen third-summary-screen" style="display: none;">
            <button class="third-back-button" onclick="thirdShowPage('thirdmainmenu')">返回</button>
            <div class="third-summary-container">
              <h2>睡眠周期分析</h2>
              <div class="third-chart-container">
                <canvas id="third-sleep-chart"></canvas>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- third -->

      <div id="rightforth" class="right">
        <div id="forthMoodModal">
          <div style="text-align:center">
            <p style="font-size:2.5vw;font-weight:bold">开始今日的音乐疗愈么？</p>
            <p style="font-size:1.8vw;margin:20px 0 40px">请选择你此刻的心情</p>
            <button class="moodBtn" onclick="forthChooseMood('joy')" id="iamjoy">喜</button>
            <button class="moodBtn" onclick="forthChooseMood('sad')" id="iamsad">悲</button>
            <button class="moodBtn" onclick="forthChooseMood('anger')" id="iamanger">怒</button>
          </div>
        </div>

        <div id="forthend" class="evaluation-wrapper" style="display: none;">
          <!-- Questions Area -->
          <div class="evaluation-questions">
            <div class="question-block">
              <p>你感觉你的情绪的缓解程度？</p>
              <div class="radio-group">
                <label><input type="radio" name="forthQ1" value="20">20分</label>
                <label><input type="radio" name="forthQ1" value="40">40分</label>
                <label><input type="radio" name="forthQ1" value="60">60分</label>
                <label><input type="radio" name="forthQ1" value="80">80分</label>
                <label><input type="radio" name="forthQ1" value="100">100分</label>
              </div>
            </div>
            <div class="question-block">
              <p>你感觉本次音乐疗愈的贴切程度？</p>
              <div class="radio-group">
                <label><input type="radio" name="forthQ2" value="20">20分</label>
                <label><input type="radio" name="forthQ2" value="40">40分</label>
                <label><input type="radio" name="forthQ2" value="60">60分</label>
                <label><input type="radio" name="forthQ2" value="80">80分</label>
                <label><input type="radio" name="forthQ2" value="100">100分</label>
              </div>
            </div>
            <div class="question-block">
              <p>你认为本次音乐疗愈的效果如何？</p>
              <div class="radio-group">
                <label><input type="radio" name="forthQ3" value="20">20分</label>
                <label><input type="radio" name="forthQ3" value="40">40分</label>
                <label><input type="radio" name="forthQ3" value="60">60分</label>
                <label><input type="radio" name="forthQ3" value="80">80分</label>
                <label><input type="radio" name="forthQ3" value="100">100分</label>
              </div>
            </div>
            <input type="button" value="返回" id="forthreturn" onclick="forthreturn()" class="forthbutton styled-button">
          </div>

          <!-- Control Panel -->
          <div class="evaluation-controls">
            <button onclick="forthSubmitEvaluation()" class="styled-button">提交评价</button>
            <div id="forthSubmitProgress" class="progress-bar">
              <div id="forthSubmitBar" class="progress-bar-fill"></div>
            </div>
            <p id="forthSubmitStatus" class="submit-status-text"></p>
            <button onclick="forthEndSession()" class="styled-button">结束本次疗愈</button>
          </div>
        </div>

        <div id="forthmain" style="display: none;">

          <div id="forthHeader" style="text-align: center; margin-top: 2%;">
            <h1 style="font-size: 25px; font-weight: bold;">音乐疗愈</h1>
            <p style="font-size: 1.5vw;">过去的一切，今天已然成为安乐</p>
          </div>

          <!-- Player Section -->
          <div id="forthPlayerBar"
            style="width: 100%; height: 15%; display: flex; align-items: center; justify-content: space-between;border:1px solid black">
            <!-- Cover -->
            <div id="forthMusicCover" style="width: 15%; height: 100%; background-color: #ddd; margin-left: 1%;">
            </div>

            <!-- Player Box -->
            <div id="forthPlayerBox"
              style="width: 60%; height: 80%; display: flex; flex-direction: column; justify-content: space-between;">
              <!-- Progress Bar -->
              <div id="forthProgressContainer"
                style="width: 100%; height: 20%; background-color: grey; cursor: pointer;">
                <div id="forthProgressBar" style="width: 0%; height: 100%; background-color: lightblue;"></div>
              </div>

              <!-- Controls -->
              <div id="forthControls"
                style="width: 100%; display: flex; justify-content: space-around; align-items: center; height: 70%;">
                <div id="forthPrevBtn"></div>
                <div id="forthPlayPauseBtn"></div>
                <div id="forthNextBtn"></div>
              </div>
            </div>

            <!-- Evaluation Box -->
            <div id="forthEvalBox"
              style="width: 20%; height: 80%; margin-right: 1%; display: flex; flex-direction: column; justify-content: space-around;">
              <div style="text-align: center;" id="ilikeit" onclick="like()">喜欢这首</div>
              <div style="text-align: center;" id="idontlikeit" onclick="dislike()">不喜欢这首</div>
            </div>
          </div>

          <!-- Main Music Area -->
          <div id="forthMainMusic" style="width: 100%; height: 60%; text-align: center; padding-top: 3%;">

            <div id="forthMusicContent" style="display: none; width: 100%; height: 100%; display: flex;">
              <div id="forthMusicList" style="width: 50%; background-color: #f0f0f0;">
                <h3>线上音乐与此生</h3>
                <div id="forthmusicul">
                  <div class="forthmainmusicli">治愈旋律A
                    <div class="musicgo">
                      <img src="./src/21.png" title="点击播放" class="musicgoimggoing" id="playgoing" onclick="musicgo()">
                      <img src="./src/22.png" title="点赞" class="musicgoimg" onclick="thatisgood(0)">
                      <img src="./src/24.png" title="喜欢" class="musicgoimg" onclick="ilikeit(1)">
                    </div>
                  </div>
                  <div class="forthmainmusicli">轻柔钢琴B
                    <div class="musicgo">
                      <img src="./src/21.png" title="点击播放" class="musicgoimggoing" id="playgoing" onclick="musicgo()">
                      <img src="./src/22.png" title="点赞" class="musicgoimg" onclick="thatisgood(2)">
                      <img src="./src/24.png" title="喜欢" class="musicgoimg" onclick="ilikeit(3)">
                    </div>
                  </div>
                  <div class="forthmainmusicli">冥想音乐C
                    <div class="musicgo">
                      <img src="./src/21.png" title="点击播放" class="musicgoimggoing" id="playgoing" onclick="musicgo()">
                      <img src="./src/22.png" title="点赞" class="musicgoimg" onclick="thatisgood(4)">
                      <img src="./src/24.png" title="喜欢" class="musicgoimg" onclick="ilikeit(5)">
                    </div>
                  </div>
                  <div class="forthmainmusicli">治愈旋律A
                    <div class="musicgo">
                      <img src="./src/21.png" title="点击播放" class="musicgoimggoing" id="playgoing" onclick="musicgo()">
                      <img src="./src/22.png" title="点赞" class="musicgoimg" onclick="thatisgood(6)">
                      <img src="./src/24.png" title="喜欢" class="musicgoimg" onclick="ilikeit(7)">
                    </div>
                  </div>

                </div>
                <h4>你的喜欢</h4>
                <div id="yourlikeul">
                  <div class="yourlikeli" title="点击播放" onclick="likemusicgo()">a</div>
                  <div class="yourlikeli" title="点击播放" onclick="likemusicgo()">b</div>
                  <div class="yourlikeli" title="点击播放" onclick="likemusicgo()">c</div>
                  <div class="yourlikeli" title="点击播放" onclick="likemusicgo()">a</div>
                </div>
              </div>
              <div id="forthMusicOptions" style="width: 50%;">
                <div id="forthmusictile">情绪婉约电台</div>
                <div id="forthmusicoptiondiv"
                  style="display: flex; flex-wrap: wrap; justify-content: space-around; align-content: space-around;">
                  <div class="forthOptionBox" title="助眠脑波:点击播放音乐电台" id="option1" onclick="optionmusic(0)">助眠脑波</div>
                  <div class="forthOptionBox" title="助眠播客:点击播放音乐电台" id="option2" onclick="optionmusic(1)">助眠播客</div>
                  <div class="forthOptionBox" title="氛围冥想:点击播放音乐电台" id="option3" onclick="optionmusic(2)">氛围冥想</div>
                  <div class="forthOptionBox" title="自然声音:点击播放音乐电台" id="option4" onclick="optionmusic(3)">自然声音</div>
                  <div class="forthOptionBox" title="纯净音乐:点击播放音乐电台" id="option5" onclick="optionmusic(4)">纯净音乐</div>
                  <div class="forthOptionBox" title="长时单曲:点击播放音乐电台" id="option6" onclick="optionmusic(5)">长时单曲</div>
                </div>
              </div>
            </div>
            <div style="position:absolute; right:45px; bottom:0px; z-index:1">
              <button onclick="forthshowquestion()" class="forthbutton">结束</button>
            </div>




          </div>


        </div>


      </div>

      <!-- forth -->

      <div id="rightfifth" class="right">
        <div id="rightfifthhead">
          <div id="rightfifthtitle">
            <p id="fifthbigtitle">情绪日志</p>
            <p id="fifthlittletitle">为自己写下的情绪的梦</p>
          </div>
          <div id="user2">
            <div id="userup2">
              <div id="userupfirst2">root用户</div>
              <div id="userupsecond2" onclick="changebell()"></div>
            </div>
            <div id="userdown1">
              <div class="search-box">
                <input type="text" placeholder="搜索记录…" class="search-input">
                <i class="fas fa-search search-icon"></i>
              </div>
            </div>
          </div>
        </div>

        <div id="rightfifthbook">
          <div id="rightfifthdaily">
            <div id="fifthContainer">
              <!-- 顶部每日一句 -->
              <div id="fifthTopQuote">
                “坚持是一种信念，你已经很棒了！”
              </div>
              <!-- 中间主内容 -->
              <div id="fifthMainContent">

                <!-- 左侧日期与情绪提示 -->
                <div id="fifthLeftPanel">
                  <div id="fifthDateInfo">2025年4月</div>
                  <div id="fifthDateNumber">20</div>
                  <div id="fifthEmotionTip">
                    给自己一点空间，允许情绪自由流动。<br>深呼吸，从容面对今天。
                  </div>
                </div>

                <!-- 右侧日历选择 -->
                <div id="fifthRightPanel">
                  <div id="fifthDatePickerLabel">选择一个日期：</div>
                  <input id="fifthDatePicker" type="date" />
                </div>

              </div>

              <!-- 底部功能按钮 -->
              <div id="fifthFooter">
                <div class="fifthActionButton">
                  <img src="./src/37.png" alt="日志图标" />
                  管理日志

                </div>
                <div class="fifthActionButton">
                  <img src="./src/38.png" alt="趋势图标" />
                  情绪趋势
                </div>
                <div class="fifthActionButton">
                  <img src="./src/39.png" alt="说明图标" />
                  添加说明
                </div>
              </div>

            </div>

          </div>

          <div id="rightfifthmain">
            <div id="rightfifthmainfirst">
              <div class="rightfifthmainitem" onclick="fifthmain(0)">情绪记录</div>
              <div class="rightfifthmainitem" onclick="fifthmain(1)">情绪变化</div>
              <div class="rightfifthmainitem" onclick="fifthmain(2)">趋势图表</div>
              <div class="rightfifthmainitem" onclick="fifthmain(3)">情绪追踪</div>
            </div>

            <div id="rightfifthmainsecond">
              <div class="fifthmainsecondimg"></div>
              <div class="fifthmainsecondimg"></div>
              <div class="fifthmainsecondimg"></div>
              <div class="fifthmainsecondimg"></div>
            </div>
          </div>
        </div>

        <div id="rightfifthable">
          <!-- 情绪记录 -->
          <div id="fifthEmotionRecord" class="fifthSection"
            style="display: block; width: 100%; height: 100%; padding: 15px; box-sizing: border-box;">
            <h2 style="margin-bottom: 10px; color: #333;">开始记录</h2>
            <textarea id="fifthTextInput" placeholder="写下此刻的情绪..."
              style="width: 100%; height: 120px; resize: none; border: 1px solid #ccc; border-radius: 6px; padding: 8px; font-size: 14px;"></textarea>
            <div style="margin-top: 10px; display: flex; flex-wrap: wrap; gap: 10px;">
              <button class="fifthButton">保存</button>
              <button class="fifthButton">重新输入</button>
              <button class="fifthButton">保存为草稿</button>
              <button class="fifthButton">表情</button>
              <button class="fifthButton">颜色选择</button>
            </div>

            <h3 style="margin-top: 20px; color: #333;">记录历史</h3>
            <div id="fifthViewEdit"
              style="display: flex; flex-direction: column; gap: 10px; max-height: 100px; overflow-y: auto;">
              <div class="fifthRecordItem">
                <span>2025-07-30：今天心情很好，阳光明媚。</span>
                <div class="fifthRecordActions">
                  <button class="fifthActionBtn">编辑</button>
                  <button class="fifthActionBtn">删除</button>
                </div>
              </div>
            </div>

            <div id="fifthImageRecordEntry" style="margin-top: 10px;">
              <button class="fifthButton">上传图片记录</button>
            </div>
          </div>

          <!-- 情绪变化 -->
          <div id="fifthEmotionChange" class="fifthSection"
            style="display: none; width: 100%; height: 100%; padding: 15px; overflow-y: auto; box-sizing: border-box;">
            <h2 style="color: #333;">情绪变化</h2>
            <div id="fifthTimeline" class="fifthModuleBox">时间轴展示（示意）</div>
            <div id="fifthWordCloud" class="fifthModuleBox">情绪词云（今日/本周）</div>
            <div id="fifthDailyReview" class="fifthModuleBox">
              <strong>今日回顾：</strong><br>
              <span>AI摘要：今天你多次提到“忙碌”、“期待”，整体积极。</span><br>
              情绪雷达图（占位）
            </div>
            <div id="fifthRelationAnalysis" class="fifthModuleBox">
              关联分析：<br>
              <ul>
                <li>触发因素：工作、天气</li>
                <li>身体反应：疲劳、胃紧张</li>
              </ul>
            </div>
            <div style="margin-top: 10px;">
              <button class="fifthButton">快速编辑</button>
              <button class="fifthButton">删除</button>
              <button class="fifthButton">设为私密</button>
            </div>
          </div>

          <!-- 趋势图表 -->
          <div id="fifthTrendCharts" class="fifthSection"
            style="display: none; width: 100%; height: 100%; padding: 15px; overflow-y: auto; box-sizing: border-box;">
            <h2 style="color: #333;">趋势图表</h2>
            <div class="fifthModuleBox fifthChartLink" data-chart="lineChart" onclick="fifthgotoimg(0)">折线图：情绪强度随时间
            </div>
            <div class="fifthModuleBox fifthChartLink" data-chart="areaChart" onclick="fifthgotoimg(1)">面积堆叠图：情绪结构 Pos
              /
              Neu / Neg</div>
            <div class="fifthModuleBox fifthChartLink" data-chart="heatMap" onclick="fifthgotoimg(2)">日历热力图：颜色表示情绪强度均值
            </div>
            <div style="margin-top: 10px;">
              <button class="fifthButton">导出 PNG</button>
              <button class="fifthButton">导出 SVG</button>
              <button class="fifthButton">一键分享</button>
            </div>
          </div>


          <!-- 折线图界面 -->
          <div id="fifthLineChartView" class="fifthSectionchart"
            style="display: none; width: 100%; height: 100%; padding: 10px; box-sizing: border-box;">
            <canvas class="fifthcanvas" id="fifthLineChart" style="width:80%; height:80%;display: block;"></canvas>
            <button class="fifthButtonreturn" onclick="fifthBackToTrend(0)">返回</button>
          </div>

          <!-- 面积图界面 -->
          <div id="fifthAreaChartView" class="fifthSectionchart"
            style="display: none; width: 100%; height: 100%; padding: 10px; box-sizing: border-box;">
            <canvas class="fifthcanvas" id="stackedArea"></canvas>
            <button class="fifthButtonreturn" onclick="fifthBackToTrend(1)">返回</button>
          </div>

          <!-- 热力图界面 -->
          <div id="fifthHeatMapView" class="fifthSectionchart"
            style="display: none; width: 100%; height: 100%; padding: 10px; box-sizing: border-box;">
            <div id="wrapper" class="fifthcanvas">
              <!-- 日期索引 -->
              <div id="index">
                <input type="date" id="datePicker" min="2026-01-01" max="2026-12-31">
                <button onclick="jumpToDate()">跳转</button>
              </div>

              <!-- 自适应 SVG -->
              <svg id="cal" viewBox="0 0 1000 200" preserveAspectRatio="xMidYMid meet"></svg>
            </div>

            <!-- 弹窗 -->
            <div id="dlg" class="hidden">
              <div id="box">
                <h3 id="dlgTitle"></h3>
                <div id="dlgDate" style="font-size:12px;color:#555;margin-bottom:8px"></div>
                <label>情绪评分 1-5：</label>
                <select id="scoreSel">
                  <option value="1">1 低落</option>
                  <option value="2">2 较差</option>
                  <option value="3">3 平静</option>
                  <option value="4">4 良好</option>
                  <option value="5">5 愉悦</option>
                </select>
                <label>备注：</label>
                <textarea id="noteTxt" rows="3"></textarea>
                <div>
                  <button id="save">保存</button>
                  <button id="del" class="hidden">删除</button>
                  <button id="cancel">取消</button>
                </div>
              </div>
            </div>
            <button class="fifthButtonreturn" onclick="fifthBackToTrend(2)">返回</button>
          </div>


          <!-- 情绪追踪 -->
          <div id="fifthEmotionTrack" class="fifthSection"
            style="display: none; width: 100%; height: 100%; padding: 10px; overflow-y: auto; box-sizing: border-box;">
            <h2 style="color: #333;">情绪追踪</h2>
            <div class="fifthModuleBox">目标设定：如「本月积极情绪≥60%」</div>
            <div class="fifthModuleBox">习惯打卡：冥想、运动、饮水等（与情绪曲线叠加）</div>
            <div class="fifthModuleBox">提醒系统：Web Push + 桌面通知</div>
            <div class="fifthModuleBox">成就体系：连续记录 7 天 → 解锁「情绪守望者」勋章</div>
          </div>

        </div>


      </div>




      <!-- fifth -->

    </div>
    <!--right-->




    <!--这是all的底部-->
  </div>

</body>
<script src="./src/chart-plugin.js"></script>
<script src="./src/axios.js"></script>
<script src="./src/cdnjs.js"></script>
<script src="主页.js">


</script>

</html>